<LayoutContainer id="sa_appUserslogins_PageContainer" style="width:100%;height:100%;margin:0px;padding:0;">
    <StackContainer id="sa_appUserslogins_ContentContainer" region="center" tabPosition="top" style="width:100%;height:100%; margin:5px;padding:0;">
        <TDocSimpleTableEdt id="sa_appUserslogins_TDocDBLogins" title="Database logins" iconClass="dijitCheckBoxIcon" style="margin:0;padding:0;"></TDocSimpleTableEdt>
    </StackContainer>
</LayoutContainer>
<script type="text/javascript">                                                                             //log("sysadmin usersLoginsMySQL $$",$$);//!!!IT'S FOR TESTING!!!
    $$.sa_appUserslogins_TDocDBLogins
            .init({titleText: "Application USERS and LOGINS for DB MySQL", dataURL:'/sysadmin/usersLoginsMySQL/getAppUsersLoginsDataForTable', buttonPrint:false,
                rightPane:{width:300},
                dataNewURL:"/sysadmin/usersLoginsMySQL/newDataForAppUsersLoginsTable", dataStoreURL:"/sysadmin/usersLoginsMySQL/storeAppUsersLoginsTableData",
                dataDeleteURL:"/sysadmin/usersLoginsMySQL/deleteAppUsersLoginsTableData"
            })
            .addTotalCountNumberBox("ИТОГО строк:", 140, {style:"font-weight:bold;",inputStyle:"width:40px;"})
            .addToolPane({title:"Application users info",
                contentTableAction:function(params){
                    var info="";
                    if(params.contentHTableSelectedRow){
                        info="<b>ID</b>: "+params.contentHTableSelectedRow["ID"]
                                +"<br><b>NAME</b>: "+params.contentHTableSelectedRow["NAME"]
                                +"<br><b>FULL_NAME</b>: "+params.contentHTableSelectedRow["FULL_NAME"]
                                +"<br><b>NOTE</b>: "+params.contentHTableSelectedRow["NOTE"]
                                +"<br><b>POST</b>: "+params.contentHTableSelectedRow["POST"]
                                +"<br><b>ROLENAME</b>: "+(params.contentHTableSelectedRow["ROLENAME"]||"")
                                +"<br><b>LOGIN</b>: "+(params.contentHTableSelectedRow["LOGIN"]||"");
                    }
                    params.thisToolPane.set("content",info);
                }
            })
            .addToolPaneWHTableActionBtns({title:"Application users actions",
                buttons:{insertTableRow:"New user",allowEditTableSelectedRow:"Change user", storeTableSelectedRow:"Store user", deleteTableSelectedRow:"delete user"}})
            .addContentTablePopupMenuTableRowsAction("Изменить строки",{actionName:"allowEditTableSelectedRows"})
            .addContentTablePopupMenuTableRowsAction("Сохранить строки",{actionName:"storeTableSelectedRows"})
            .addContentTableOnChangeRowAction(function(crd/*changedRowData*/, contentTable, params, nextCallback){
                if(crd.item("ShiftPostName").isChanged()){
                    var shiftPostID= contentTable.getAutocompleteColumnValueForItem("ShiftPostName",crd.item("ShiftPostName").getValue(),"ShiftPostID");
                    crd.item("ShiftPostID").setValue(shiftPostID);
                }
                nextCallback();
            });
    $$.sa_appUserslogins_TDocDBLogins.onShow= function(){
        if(!$$.sa_appUserslogins_TDocDBLogins.startedUp)$$.sa_appUserslogins_TDocDBLogins.startupDoc();
    };
    $$.sa_appUserslogins_TDocDBLogins.onShow();
</script>